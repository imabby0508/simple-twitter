"use strict";(self["webpackChunksimple_twitter"]=self["webpackChunksimple_twitter"]||[]).push([[460],{7891:function(t,s,a){a.d(s,{Z:function(){return l}});var e=function(){var t=this,s=t._self._c;return s("nav",{staticClass:"sidebar"},[s("div",[t._m(0),s("div",{staticClass:"sidebar--menu"},[s("router-link",{staticClass:"d-flex align-items-center",attrs:{to:"/admin/main"}},["admin-main"===t.$route.name?s("img",{staticClass:"icon",attrs:{src:a(8133),alt:"home-page"}}):s("img",{staticClass:"icon",attrs:{src:a(9080),alt:"home-page"}}),s("span",[t._v("推文清單")])]),s("router-link",{staticClass:"d-flex align-items-center",attrs:{to:"/admin/users"}},["admin-users"===t.$route.name?s("img",{staticClass:"icon",attrs:{src:a(7630),alt:"profile-page"}}):s("img",{staticClass:"icon",attrs:{src:a(656),alt:"profile-page"}}),s("span",[t._v("使用者列表")])])],1)]),s("div",{staticClass:"sidebar--menu"},[s("router-link",{staticClass:"d-flex align-items-center",attrs:{to:"/signin"}},[s("img",{staticClass:"icon",attrs:{src:a(7969),alt:"setting-page"}}),s("span",{on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.logout.apply(null,arguments)}}},[t._v("登出")])])],1)])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"sidebar--logo"},[s("img",{staticClass:"icon-logo",attrs:{src:a(5013),alt:"logo"}})])}],r=(a(7658),{methods:{logout(){this.$store.commit("revokeAuthentication"),this.$router.push("/admin/signin")}}}),n=r,c=a(1001),o=(0,c.Z)(n,e,i,!1,null,"127c3aa7",null),l=o.exports},4460:function(t,s,a){a.r(s),a.d(s,{default:function(){return p}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"main__container"},[s("AdminNav"),t.isLoading?s("Spinner"):s("div",{staticClass:"main"},[s("div",{staticClass:"main__title"},[s("h4",[t._v("使用者列表")])]),s("div",{staticClass:"main__post"},[s("div",{staticClass:"tweet__card__wrapper"},t._l(t.usersCurrentPage,(function(e){return s("div",{key:e.id,staticClass:"card d-flex flex-column"},[s("img",{staticClass:"card--cover",attrs:{src:e.backgroundImage,alt:"user-cover"}}),s("img",{staticClass:"card--avatar",attrs:{src:t._f("emptyAvatar")(e.avatar),alt:"user-avatar"}}),s("div",{staticClass:"card--info text-center"},[s("p",{staticClass:"card--info--name"},[t._v(t._s(e.name))]),s("p",{staticClass:"card--info--account"},[t._v("@"+t._s(e.account))])]),s("div",{staticClass:"card--tweet d-flex justify-content-between"},[s("div",{staticClass:"card--tweet--posts d-flex"},[s("img",{staticClass:"icon",attrs:{src:a(7337),alt:"tweet-icon"}}),s("p",[t._v(t._s(e.tweetCount))])]),s("div",{staticClass:"card--tweet--likes d-flex"},[s("img",{staticClass:"icon",attrs:{src:a(2155),alt:"like-icon"}}),s("p",[t._v(t._s(e.likeCount))])])]),s("div",{staticClass:"card--follow d-flex justify-content-center"},[s("p",[t._v(t._s(e.followerCount)+"個 "),s("span",[t._v("跟隨中")])]),s("p",[t._v(t._s(e.followingCount)+"個 "),s("span",[t._v("跟隨者")])])])])})),0),s("nav",{staticClass:"my-4",attrs:{"aria-label":"Page navigation"}},[s("ul",{staticClass:"pagination justify-content-center",attrs:{id:"paginator"}},t._l(t.paginator,(function(a){return s("li",{key:a,staticClass:"page-item",class:{active:a===t.currentPage}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.handlePageChange(a)}}},[t._v(t._s(a))])])})),0)])])])],1)},i=[],r=(a(1703),a(7658),a(7891)),n=a(4711),c=a(3459),o=a(6163),l=a(8428),g={mixins:[c.XR],components:{AdminNav:r.Z,Spinner:l.Z},data(){return{usersTotal:[],isLoading:!0,usersCurrentPage:[],paginator:[],currentPage:1,usersPerPage:8}},created(){this.fetchUsers()},methods:{async fetchUsers(){try{const t=await n.Z.getUsers(),{data:s}=t;if("error"===s.status)throw new Error(s.message);this.usersTotal=s,this.getUsersByPage(1),this.renderPaginator(this.usersTotal.length),this.isLoading=!1}catch{console.error(error),this.isLoading=!1,o.bW.fire({title:"無法取得使用者列表，請稍後再試"})}},getUsersByPage(t){const s=(t-1)*this.usersPerPage;this.usersCurrentPage=this.usersTotal.slice(s,s+this.usersPerPage)},renderPaginator(t){const s=Math.ceil(t/this.usersPerPage);for(let a=1;a<=s;a++)this.paginator.push(a)},handlePageChange(t){this.currentPage=t,this.getUsersByPage(t)}}},u=g,d=a(1001),m=(0,d.Z)(u,e,i,!1,null,"db0c6378",null),p=m.exports},7337:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOESURBVHgB7ZlLUttAEIZ7ZIFZBY5gThDfAHOCwAkwC6psFVU4AdaIdXgoG9s7nBMAJ0C+gXOCODdQKisbaSbdlgzCSJZGz1DhWyBZmpH+nulu9QwA77zzf8PgDXJ4eNJwHF5nDKw3YUCn09mwbbXOudgTgu3gpQ26LgTcq1Gd2+1j7MCO0Fqz2704hwIh4dOpejSZQAdmol+ON2paj5yBdvvkAQ8NOhfC3uz3jTHkTKvVqTFW0VHiXkRTM3IGXqLW8M8YcoJGfDJRz+g0TnvGxFjSgPzQtGN0FaaD59/xYL9KN8B1F/UGA7IBknAu7ULZ4qZDuAWpUX+m378wFSgJTTs5Q/GUIBKJR/8f0LGUGcDMdo0uEytQw+DcmaV0dnBwWl9Z4UdhDV3fZDWv25Ax9jOk5XB19cOdYehW2LPcvL6C4kUTUoCaztF9dDpXVZXf4tetFq+rsoWdt4LvseZ0+qcOS1LgZFIx8fUfIQV+8QS6EEvkgyGPH4Xd0bRTzDRpxIsxDvQ+Ba7/qmrbbBtdqInn64HdfLUHBQ7nyjDsBb3elRl0x/X5xG5jMsa/d7tXg6CbUqUEPmg/7EFhULbBaddjNqf4wVnk90Ioo7U1e2QYhrWsQ65ZyMvzeoymFhr5DQUbUYIXyc0A+sI6jriJmmR0LRTu6LLC5+RmgFdN1iKafe73Lw1IQS4GtFpfmjFKYeIaY+wTtrUwvmYz4KZ0VsOZeZVxgsjcALc4Y2cSXRoom4Q/XRDCQfHBGW2RyFoIR+b384NZpJ/GdJ0w8PliF8UP4naInIHHx4quqmKdprlatc1lbWn0Y7pOECau+PZlV3yZLur93wwJTK88MCEBmcWAl/MbEl1SCZ+TmQEoPipw0b+ZiS2H1SofJM37i2RiwPLRDy7CsiITA8JHn8Q723luxaQOYm9RHrDIyV88kXpN7Ob9V1hFiJ+9H1KwZPR3e73LOyiAVDEQNPpuaixGPJE2iBfWx+IHitehQBLHgFdx1p6vzIJ2BwomsQGKorzYisH18nkRQftKByRA0zp19PX6/Dct9mXXylmRyAAhKv69H2u+S1YGSV3oKXhpMV6G68yR/g54dc+D+4v2gi43oUSkZ8C2xVOmYUzZhZKRNkBR2Mx93MD9OoKSkTKAdpe97FNq4PqRMoD+V0vHsgPXT4JSQoyLLheWITUDqmqPqEyGf4i/nDaf7YEZUpQAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=460.d7191750.js.map