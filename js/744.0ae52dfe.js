"use strict";(self["webpackChunksimple_twitter"]=self["webpackChunksimple_twitter"]||[]).push([[744],{266:function(e,t,s){s.d(t,{Z:function(){return f}});var r=function(){var e=this,t=e._self._c;return e.isLoading?t("Spinner"):t("div",{staticClass:"reply__card__wrapper"},e._l(e.replies,(function(s){return t("router-link",{key:s.id,staticClass:"reply__card",attrs:{to:{name:"reply",params:{id:s.TweetId}}}},[t("div",{staticClass:"reply__card__content"},[t("div",{staticClass:"reply__card__title"},[t("router-link",{attrs:{to:{name:"user-tweets",params:{id:s.replyUser.id}}}},[t("img",{staticClass:"reply__card__avatar",attrs:{src:e._f("emptyAvatar")(s.replyUser.avatar),alt:"avatar"}})]),t("div",[t("div",{staticClass:"reply__card__info"},[t("p",{staticClass:"reply__card__name"},[e._v(e._s(s.replyUser.name))]),t("p",{staticClass:"reply__card__account"},[e._v(" @"+e._s(s.replyUser.account))]),t("p",{staticClass:"reply__card__time"},[e._v("・"+e._s(e._f("fromNow")(s.createdAt)))])]),t("div",{staticClass:"reply__card__target"},[t("p",[e._v("回覆")]),t("p",{staticClass:"reply__card__target__account"},[e._v(" @"+e._s(s.tweetAuthorAccount)+" ")])])])],1),t("div",{staticClass:"reply__card__description"},[e._v(" "+e._s(s.comment)+" ")])])])})),1)},a=[],i=(s(541),s(1703),s(9682)),l=s(6950),o=s(6163),c=s(3459),n=s(8428),d={props:{newReply:{type:Object,default:()=>({createdAt:"",tweetAuthorAccount:"",comment:"",replyUser:{}})},isUpdated:{type:Boolean,default:!1}},watch:{newReply:{handler(e){this.replies.unshift(e)}},isUpdated(e,t){if("user-replies"===this.$route.name){const{id:e}=this.$route.params;this.fetchUserReplies(e)}}},mixins:[c.qk,c.XR],components:{Spinner:n.Z},data(){return{replies:[],isLoading:!0}},created(){if("user-replies"===this.$route.name){const{id:e}=this.$route.params;this.fetchUserReplies(e)}else if("reply"===this.$route.name){const{id:e}=this.$route.params;this.fetchReplies(e)}},methods:{async fetchUserReplies(e){try{const{data:t}=await i.Z.getUserReplies({userId:e});if("error"===t.status)throw new Error(t.message);this.replies=Object.values(t).map((e=>e)),this.isLoading=!1}catch(t){this.isLoading=!1,console.log("error",t),o.bW.fire({title:"無法取得回覆，請稍後再試"})}},async fetchReplies(e){try{const t=await l.Z.getReplies({tweetId:e}),{data:s}=t;if("error"===s.status)throw new Error(s.message);this.replies=Object.values(s).map((e=>e)),this.isLoading=!1}catch(t){console.log("error",t),o.bW.fire({title:"無法取得回覆，請稍後再試"})}}}},p=d,_=s(1001),u=(0,_.Z)(p,r,a,!1,null,"6e95a16a",null),f=u.exports},7744:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"user__container"},[t("MainNav"),t("div",{staticClass:"user__info__wrapper"},[t("UserProfile",{attrs:{"is-updated":e.isUpdated},on:{"after-click-button":e.editUserProfile}}),t("ProfilePills"),t("ReplyCard",{attrs:{"is-updated":e.isUpdated}})],1),t("PopularList"),e.isModalVisible?t("UserEdit",{on:{"after-click-button":e.closeUserEditModal}}):e._e()],1)},a=[],i=s(8189),l=s(9709),o=s(1328),c=s(266),n=s(446),d=s(3646),p={components:{MainNav:i.Z,UserProfile:l.Z,ProfilePills:o.Z,ReplyCard:c.Z,PopularList:n.Z,UserEdit:d.Z},data(){return{isModalVisible:!1,isUpdated:!1}},methods:{editUserProfile(){this.isModalVisible=!0,this.isUpdated=!1},closeUserEditModal(){this.isModalVisible=!1,this.isUpdated=!0}}},_=p,u=s(1001),f=(0,u.Z)(_,r,a,!1,null,"5f5a59d4",null),h=f.exports}}]);
//# sourceMappingURL=744.0ae52dfe.js.map