{"version":3,"file":"js/41.83e4a977.js","mappings":"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","sources":["webpack://simple-twitter/./src/components/AccountForm.vue","webpack://simple-twitter/src/components/AccountForm.vue","webpack://simple-twitter/./src/components/AccountForm.vue?8894","webpack://simple-twitter/./src/components/AccountForm.vue?45fd","webpack://simple-twitter/./src/views/Setting.vue","webpack://simple-twitter/src/views/Setting.vue","webpack://simple-twitter/./src/views/Setting.vue?4d91","webpack://simple-twitter/./src/views/Setting.vue?9f9b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submitSetting.apply(null, arguments)}}},[_c('div',{staticClass:\"form-wrapper\"},[_c('label',{staticClass:\"d-block\",attrs:{\"for\":\"account\"}},[_vm._v(\"帳號\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.account),expression:\"account\"}],staticClass:\"d-block\",attrs:{\"type\":\"text\",\"id\":\"account\",\"name\":\"account\",\"placeholder\":\"請輸入帳號\",\"required\":\"\"},domProps:{\"value\":(_vm.account)},on:{\"input\":function($event){if($event.target.composing)return;_vm.account=$event.target.value}}}),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('span',{staticClass:\"input__info\"},[_vm._v(_vm._s(_vm.accountThreshold > 10 ? '字數超出上限！' : ''))]),_c('span',{staticClass:\"input__counter\"},[_vm._v(_vm._s(_vm.accountThreshold)+\"/10\")])])]),_c('div',{staticClass:\"form-wrapper\"},[_c('label',{staticClass:\"d-block\",attrs:{\"for\":\"name\"}},[_vm._v(\"名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"d-block\",attrs:{\"type\":\"text\",\"id\":\"name\",\"name\":\"name\",\"placeholder\":\"請輸入使用者名稱\",\"required\":\"\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.name=$event.target.value}}}),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('span',{staticClass:\"input__info\"},[_vm._v(_vm._s(_vm.nameThreshold > 50 ? '字數超出上限！' : ''))]),_c('span',{staticClass:\"input__counter\"},[_vm._v(_vm._s(_vm.nameThreshold)+\"/50\")])])]),_c('div',{staticClass:\"form-wrapper\"},[_c('label',{staticClass:\"d-block\",attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"d-block\",attrs:{\"type\":\"email\",\"id\":\"email\",\"name\":\"email\",\"placeholder\":\"請輸入 Email\",\"required\":\"\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.email=$event.target.value}}})]),_c('div',{staticClass:\"form-wrapper\"},[_c('label',{staticClass:\"d-block\",attrs:{\"for\":\"password\"}},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"d-block\",attrs:{\"type\":\"password\",\"id\":\"password\",\"name\":\"password\",\"placeholder\":\"請設定密碼\",\"required\":\"\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.password=$event.target.value}}})]),_c('div',{staticClass:\"form-wrapper\"},[_c('label',{staticClass:\"d-block\",attrs:{\"for\":\"checkPassword\"}},[_vm._v(\"密碼確認\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkPassword),expression:\"checkPassword\"}],staticClass:\"d-block\",attrs:{\"type\":\"password\",\"id\":\"checkPassword\",\"name\":\"checkPassword\",\"placeholder\":\"請再次輸入密碼\",\"required\":\"\"},domProps:{\"value\":(_vm.checkPassword)},on:{\"input\":function($event){if($event.target.composing)return;_vm.checkPassword=$event.target.value}}})]),(_vm.isSignUp)?[_c('div',[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submitSignUp.apply(null, arguments)}}},[_vm._v(\"註冊\")])]),_c('div',{staticClass:\"router_wrapper text-center\"},[_c('router-link',{attrs:{\"to\":\"/signin\"}},[_vm._v(\"取消\")])],1)]:[_vm._m(0)]],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"d-flex justify-content-end\"},[_c('button',{staticStyle:{\"width\":\"88px\"},attrs:{\"type\":\"submit\"}},[_vm._v(\"儲存\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <form @submit.stop.prevent=\"submitSetting\">\r\n    <div class=\"form-wrapper\">\r\n      <label\r\n        for=\"account\"\r\n        class=\"d-block\"\r\n      >帳號</label>\r\n      <input\r\n        type=\"text\"\r\n        id=\"account\"\r\n        name=\"account\"\r\n        placeholder=\"請輸入帳號\"\r\n        required\r\n        class=\"d-block\"\r\n        v-model=\"account\"\r\n      >\r\n      <div class=\"d-flex justify-content-between\">\r\n        <span class=\"input__info\">{{accountThreshold > 10 ? '字數超出上限！' : ''}}</span>\r\n        <span class=\"input__counter\">{{accountThreshold}}/10</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-wrapper\">\r\n      <label\r\n        for=\"name\"\r\n        class=\"d-block\"\r\n      >名稱</label>\r\n      <input\r\n        type=\"text\"\r\n        id=\"name\"\r\n        name=\"name\"\r\n        placeholder=\"請輸入使用者名稱\"\r\n        required\r\n        class=\"d-block\"\r\n        v-model=\"name\"\r\n      >\r\n      <div class=\"d-flex justify-content-between\">\r\n        <span class=\"input__info\">{{nameThreshold > 50 ? '字數超出上限！' : ''}}</span>\r\n        <span class=\"input__counter\">{{nameThreshold}}/50</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-wrapper\">\r\n      <label\r\n        for=\"email\"\r\n        class=\"d-block\"\r\n      >Email</label>\r\n      <input\r\n        type=\"email\"\r\n        id=\"email\"\r\n        name=\"email\"\r\n        placeholder=\"請輸入 Email\"\r\n        required\r\n        class=\"d-block\"\r\n        v-model=\"email\"\r\n      >\r\n    </div>\r\n\r\n    <div class=\"form-wrapper\">\r\n      <label\r\n        for=\"password\"\r\n        class=\"d-block\"\r\n      >密碼</label>\r\n      <input\r\n        type=\"password\"\r\n        id=\"password\"\r\n        name=\"password\"\r\n        placeholder=\"請設定密碼\"\r\n        required\r\n        class=\"d-block\"\r\n        v-model=\"password\"\r\n      >\r\n    </div>\r\n\r\n    <div class=\"form-wrapper\">\r\n      <label\r\n        for=\"checkPassword\"\r\n        class=\"d-block\"\r\n      >密碼確認</label>\r\n      <input\r\n        type=\"password\"\r\n        id=\"checkPassword\"\r\n        name=\"checkPassword\"\r\n        placeholder=\"請再次輸入密碼\"\r\n        required\r\n        class=\"d-block\"\r\n        v-model=\"checkPassword\"\r\n      >\r\n    </div>\r\n\r\n    <template v-if=\"isSignUp\">\r\n      <div>\r\n        <button\r\n          type=\"button\"\r\n          @click.stop.prevent=\"submitSignUp\"\r\n        >註冊</button>\r\n      </div>\r\n      <div class=\"router_wrapper text-center\">\r\n        <router-link to=\"/signin\">取消</router-link>\r\n      </div>\r\n    </template>\r\n\r\n    <template v-else>\r\n      <div class=\"d-flex justify-content-end\">\r\n        <button\r\n          type=\"submit\"\r\n          style=\"width: 88px\"\r\n        >儲存</button>\r\n      </div>\r\n    </template>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport authorizationAPI from '../apis/authorization'\r\nimport userAPI from '../apis/user'\r\nimport { Toast, ToastError, ToastWarning } from '../utils/helpers'\r\n\r\nexport default {\r\n  props: {\r\n    isSignUp: {\r\n      type: Boolean,\r\n      required: true\r\n    },\r\n    initialUser: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          id: '',\r\n          account: '',\r\n          name: '',\r\n          email: '',\r\n          password: '',\r\n          checkPassword: ''\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      id: '',\r\n      account: '',\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      checkPassword: '',\r\n    }\r\n  },\r\n  watch: {\r\n    initialUser: {\r\n      handler(newData) {\r\n        this.id = newData.id\r\n        this.account = newData.account\r\n        this.name = newData.name\r\n        this.email = newData.email\r\n        this.password = newData.password\r\n        this.checkPassword = newData.checkPassword\r\n      }\r\n    }\r\n  },\r\n  // for Setting views only\r\n  mounted() {\r\n    this.renderUser()\r\n  },\r\n  methods: {\r\n    // for Setting views only\r\n    renderUser() {\r\n      this.account = this.initialUser.account\r\n      this.name = this.initialUser.name\r\n      this.email = this.initialUser.email\r\n      this.id = this.initialUser.id\r\n    },\r\n    async submitSignUp() {\r\n\r\n      try {\r\n\r\n        // 擋掉使用者拿掉 input required\r\n        if (!this.account || !this.name || !this.email || !this.password || !this.checkPassword) {\r\n          ToastWarning.fire({\r\n            title: '請確認已填寫所有欄位'\r\n          })\r\n          return\r\n        }\r\n\r\n        // 擋掉使用者 account超過 10個字\r\n        if (this.account.length > 10) {\r\n          ToastWarning.fire({\r\n            title: '帳號字數超過上限'\r\n          })\r\n          return\r\n        }\r\n\r\n        // 擋掉使用者 name超過 50個字\r\n        if (this.name.length > 50) {\r\n          ToastWarning.fire({\r\n            title: '名稱字數超過上限'\r\n          })\r\n          return\r\n        }\r\n\r\n        // 擋掉使用者密碼設定不一致\r\n        if (this.password !== this.checkPassword) {\r\n          ToastWarning.fire({\r\n            title: '密碼確認沒有正確輸入'\r\n          })\r\n          return\r\n        }\r\n\r\n        const response = await authorizationAPI.signUp({\r\n          account: this.account,\r\n          name: this.name,\r\n          email: this.email,\r\n          password: this.password,\r\n          checkPassword: this.checkPassword\r\n        })\r\n\r\n        const { data } = response\r\n\r\n        if (data.status === 'error') {\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        Toast.fire({         \r\n          title: '註冊成功，請先登入帳號'\r\n        })\r\n\r\n        // 註冊成功新增到 server後，router轉到 signin\r\n        this.$router.push('/signin')\r\n\r\n      } catch (error) {\r\n        console.error(error)\r\n\r\n        // account 和 email 不能與其他人重複，重複時跳 toast\r\n        ToastError.fire({\r\n          title: error.response.data.message\r\n        })\r\n      }\r\n\r\n    },\r\n    async submitSetting(event) {\r\n      try {\r\n\r\n        // 擋掉使用者拿掉 input required\r\n        if (!this.account || !this.name || !this.email || !this.password || !this.checkPassword) {\r\n          ToastWarning.fire({            \r\n            title: '請確認已填寫所有欄位'\r\n          })\r\n          return\r\n        }\r\n\r\n        // 擋掉使用者 account超過 10個字\r\n        if (this.account.length > 10) {\r\n          ToastWarning.fire({\r\n            title: '帳號字數超過上限'\r\n          })\r\n          return\r\n        }\r\n\r\n        // 擋掉使用者 name超過 50個字\r\n        if (this.name.length > 50) {\r\n          ToastWarning.fire({\r\n            title: '名稱字數超過上限'\r\n          })\r\n          return\r\n        }\r\n\r\n        // 擋掉使用者密碼設定不一致\r\n        if (this.password !== this.checkPassword) {\r\n          ToastWarning.fire({\r\n            title: '密碼確認沒有正確輸入'\r\n          })\r\n          return\r\n        }\r\n\r\n        const form = event.target //取得 submit的 form\r\n        const formData = new FormData(form) //透過 new FormData產生物件實例，並存在 變數裡\r\n        const response = await userAPI.updateSetting({\r\n          id: this.id,\r\n          formData\r\n        })\r\n\r\n        const { data } = response\r\n        if (data.status === 'error') {\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        this.$store.dispatch('fetchCurrentUser')\r\n\r\n        Toast.fire({         \r\n          title: data.message\r\n        })\r\n\r\n        // setting成功更新到 server後，router轉到 main\r\n        this.$router.push('/main')\r\n      } catch (error) {\r\n        console.error(error)\r\n        ToastError.fire({\r\n          title: error.response.data.message\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    accountThreshold() {\r\n      const accountLength = this.account.length\r\n      return accountLength\r\n    },\r\n    nameThreshold() {\r\n      const nameLength = this.name.length\r\n      return nameLength\r\n    }\r\n  },\r\n  updated() {\r\n    if (this.accountThreshold > 10) {\r\n      document.getElementById(\"account\").style.borderBottomColor = \"#FC5A5A\";\r\n    } else {\r\n      document.getElementById(\"account\").style.borderBottomColor = null;\r\n    }\r\n\r\n    if (this.nameThreshold > 50) {\r\n      document.getElementById(\"name\").style.borderBottomColor = \"#FC5A5A\";\r\n    } else {\r\n      document.getElementById(\"name\").style.borderBottomColor = null;\r\n    }\r\n  },\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.form-wrapper {\r\n  margin-bottom: 32px;\r\n  width: 100%;\r\n  height: 54px;\r\n  background-color: $form-bg;\r\n\r\n  label {\r\n    padding: 2px 10.55px 2px 10.55px;\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n    margin-bottom: 0px;\r\n    color: $scale-gray8;\r\n  }\r\n\r\n  input {\r\n    padding: 2px 10.55px 2px 10.55px;\r\n    width: 100%;\r\n    border: 0px;\r\n    background-color: $form-bg;\r\n    font-size: 16px;\r\n    line-height: 26px;\r\n    color: $scale-gray10;\r\n    border-bottom: 2px solid $form-border;\r\n\r\n    &:hover,\r\n    &:focus {\r\n      border-bottom-color: $sider-blue;\r\n    }\r\n\r\n    &:-webkit-autofill {\r\n      -webkit-box-shadow: 0 0 0px 100px $form-bg inset;\r\n    }\r\n  }\r\n\r\n  .input__info {\r\n    color: $error-red;\r\n    font-weight: 500;\r\n    font-size: 12px;\r\n    line-height: 20px;\r\n  }\r\n\r\n  .input__counter {\r\n    font-size: 12px;\r\n    color: $scale-gray8;\r\n    margin: 0px 0px 0px auto;\r\n    text-align: right;\r\n    padding: 0px;\r\n    font-weight: 500;\r\n    font-size: 12px;\r\n    line-height: 20px;\r\n  }\r\n}\r\n\r\nbutton {\r\n  width: 100%;\r\n  height: 46px;\r\n  border-radius: 50px;\r\n  background: $brand-orange;\r\n  font-size: 20px;\r\n  color: $scale-gray1;\r\n  padding: 8px 24px;\r\n  margin: 8px 0 22px 0;\r\n}\r\n\r\n.router_wrapper {\r\n  a {\r\n    color: $primary-blue;\r\n    text-decoration: underline;\r\n    font-weight: 400;\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n  }\r\n}\r\n\r\n::placeholder {\r\n  color: $scale-gray6;\r\n  opacity: 1;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AccountForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AccountForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountForm.vue?vue&type=template&id=6dc445c1&scoped=true&\"\nimport script from \"./AccountForm.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AccountForm.vue?vue&type=style&index=0&id=6dc445c1&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dc445c1\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"setting__container\"},[_c('MainNav'),_c('div',{staticClass:\"setting\"},[_vm._m(0),_c('div',{staticClass:\"setting__post\"},[_c('AccountForm',{attrs:{\"isSignUp\":false,\"initialUser\":_vm.currentUser}})],1)])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"setting__title\"},[_c('h4',[_vm._v(\"帳戶設定\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n\r\n  <div class=\"setting__container\">\r\n    <MainNav />\r\n    <div class=\"setting\">\r\n      <div class=\"setting__title\">\r\n        <h4>帳戶設定</h4>\r\n      </div>\r\n      <div class=\"setting__post\">\r\n        <AccountForm\r\n        :isSignUp=\"false\"\r\n        :initialUser = \"currentUser\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MainNav from \"./../components/MainNav\";\r\nimport AccountForm from \"@/components/AccountForm.vue\";\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  },\r\n  components: {\r\n    MainNav,\r\n    AccountForm,\r\n  },\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.setting__container {\r\n  position: relative;\r\n  margin: auto 9.3vw auto 9.3vw;\r\n}\r\n\r\n.setting {\r\n  position: absolute; //讓 setting置於 nav, popularlist 中間\r\n  left: 14.4vw;\r\n  right: 21.2vw;\r\n\r\n  .setting__title {\r\n    position: fixed; //讓 title固定在上面\r\n    top: 0;\r\n    left: 23.7vw;\r\n    right: 30.5vw;\r\n    z-index: 99;\r\n    padding: 24px;\r\n    margin-bottom: 0;\r\n    background: $scale-gray1;\r\n    border: 1px solid $border;\r\n  }\r\n\r\n  .setting__post {\r\n    position: absolute; //讓 setting排在 title下面\r\n    width: 100%;\r\n    height: 90vh;\r\n    top: 80px;\r\n    padding: 24px 23px 0 23px;\r\n    border-left: 1px solid $border;\r\n    border-right: 1px solid $border;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=251b68d2&scoped=true&\"\nimport script from \"./Setting.vue?vue&type=script&lang=js&\"\nexport * from \"./Setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Setting.vue?vue&type=style&index=0&id=251b68d2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"251b68d2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","on","$event","stopPropagation","preventDefault","submitSetting","apply","arguments","staticClass","attrs","_v","directives","name","rawName","value","account","expression","domProps","target","composing","_s","accountThreshold","nameThreshold","email","password","checkPassword","isSignUp","submitSignUp","_m","staticRenderFns","staticStyle","props","type","required","initialUser","default","id","data","watch","handler","mounted","methods","renderUser","ToastWarning","title","Toast","console","ToastError","formData","computed","updated","document","component","currentUser","components","MainNav","AccountForm"],"sourceRoot":""}