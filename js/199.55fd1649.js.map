{"version":3,"file":"js/199.55fd1649.js","mappings":"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","sources":["webpack://simple-twitter/./src/components/ProfilePills.vue","webpack://simple-twitter/src/components/ProfilePills.vue","webpack://simple-twitter/./src/components/ProfilePills.vue?cb2a","webpack://simple-twitter/./src/components/ProfilePills.vue?9ccb","webpack://simple-twitter/./src/components/UserEdit.vue","webpack://simple-twitter/src/components/UserEdit.vue","webpack://simple-twitter/./src/components/UserEdit.vue?4af8","webpack://simple-twitter/./src/components/UserEdit.vue?2d04","webpack://simple-twitter/./src/components/UserProfile.vue","webpack://simple-twitter/src/components/UserProfile.vue","webpack://simple-twitter/./src/components/UserProfile.vue?7a82","webpack://simple-twitter/./src/components/UserProfile.vue?8a86"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"nav\"},[_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",class:{active: _vm.$route.name === 'user-tweets'},attrs:{\"to\":{ name: 'user-tweets'}}},[_vm._v(\"推文\")])],1),_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",class:{active: _vm.$route.name === 'user-replies'},attrs:{\"to\":{ name: 'user-replies'}}},[_vm._v(\"回覆\")])],1),_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",class:{active: _vm.$route.name === 'user-likes'},attrs:{\"to\":{ name: 'user-likes'}}},[_vm._v(\"喜歡的內容\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ul class=\"nav\">\r\n    <li class=\"nav-item\">\r\n      <router-link :class=\"{active: $route.name === 'user-tweets'}\" class=\"nav-link\" :to=\"{ name: 'user-tweets'}\">推文</router-link>\r\n       \r\n    </li>\r\n    <li class=\"nav-item\">\r\n      <router-link :class=\"{active: $route.name === 'user-replies'}\" class=\"nav-link\" :to=\"{ name: 'user-replies'}\">回覆</router-link>\r\n    </li>\r\n    <li class=\"nav-item\">\r\n      <router-link :class=\"{active: $route.name === 'user-likes'}\" class=\"nav-link\" :to=\"{ name: 'user-likes'}\">喜歡的內容</router-link>\r\n    </li>\r\n  </ul>\r\n  \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.nav-link {\r\n  color: #657786;\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  width: 130px;\r\n  height: 50px;\r\n  text-align: center;\r\n  line-height: 32px;\r\n  &.active {\r\n    color: $brand-orange;\r\n    border-bottom: 2px solid $brand-orange;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProfilePills.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProfilePills.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProfilePills.vue?vue&type=template&id=b77a0740&scoped=true&\"\nimport script from \"./ProfilePills.vue?vue&type=script&lang=js&\"\nexport * from \"./ProfilePills.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProfilePills.vue?vue&type=style&index=0&id=b77a0740&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b77a0740\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isLoading)?_c('Spinner'):_c('div',{staticClass:\"user__edit__modal\"},[_c('div',{staticClass:\"modal-card\"},[_c('form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"edit__header\"},[_c('button',[_c('img',{attrs:{\"src\":require(\"@/assets/image/orange-cross.png\"),\"alt\":\"cancel\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.closeUserEditModal()}}})]),_c('h5',[_vm._v(\"編輯個人資料\")]),_c('button',{staticClass:\"save\",attrs:{\"type\":\"submit\"}},[_vm._v(\"儲存\")])]),_c('div',{staticClass:\"user__edit__image\"},[_c('div',{staticClass:\"user__cover\"},[_c('img',{staticClass:\"user__cover__img\",attrs:{\"src\":_vm.user.backgroundImage,\"alt\":\"\"}}),_c('div',{staticClass:\"user__cover__mask\"}),_c('div',{staticClass:\"user__cover__icons\"},[_c('input',{ref:\"coverInput\",staticClass:\"upload__coverImage__file d-none\",attrs:{\"id\":\"backgroundImage\",\"type\":\"file\",\"name\":\"backgroundImage\",\"accept\":\"image/*\"},on:{\"change\":_vm.handleCoverFileChange}}),_c('button',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onPickFile('cover')}}},[_c('img',{staticClass:\"upload\",attrs:{\"src\":require(\"@/assets/image/upload.png\"),\"alt\":\"upload\"}})]),_c('button',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteCover()}}},[_c('img',{staticClass:\"cancel\",attrs:{\"src\":require(\"@/assets/image/white-cross.png\"),\"alt\":\"cancel\"}})])])]),_c('div',{staticClass:\"user__avatar\"},[_c('img',{staticClass:\"user__avatar__img\",attrs:{\"src\":_vm._f(\"emptyAvatar\")(_vm.user.avatar),\"alt\":\"user-avatar\"}}),_c('div',{staticClass:\"user__avatar__mask\"}),_c('input',{ref:\"avatarInput\",staticClass:\"upload__avatarImage__file d-none\",attrs:{\"id\":\"avatar\",\"type\":\"file\",\"name\":\"avatar\",\"accept\":\"image/*\"},on:{\"change\":_vm.handleFileChange}}),_c('button',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onPickFile('avatar')}}},[_c('img',{staticClass:\"upload\",attrs:{\"src\":require(\"@/assets/image/upload.png\"),\"alt\":\"upload\"}})])])]),_c('div',{staticClass:\"user__edit__content\"},[_c('div',{staticClass:\"form__wrapper\"},[_c('label',{staticClass:\"d-block\",attrs:{\"for\":\"name\"}},[_vm._v(\"名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.name),expression:\"user.name\"}],staticClass:\"d-block\",attrs:{\"type\":\"text\",\"id\":\"name\",\"name\":\"name\",\"placeholder\":_vm.user.name ? _vm.user.name : '請輸入名稱',\"required\":\"\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.user.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"name\", $event.target.value)}}}),_c('div',{staticClass:\"compute\"},[_c('div',{staticClass:\"words__compute--warn\"},[_vm._v(\" \"+_vm._s(_vm.nameThreshold > 50 ? \"字數超出上限!\" : \"\")+\" \")]),_c('div',{staticClass:\"words__compute\"},[_vm._v(_vm._s(_vm.nameThreshold)+\"/50\")])])]),_c('div',{staticClass:\"form__wrapper\"},[_c('label',{staticClass:\"d-block\",attrs:{\"for\":\"introduction\"}},[_vm._v(\"自我介紹\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.introduction),expression:\"user.introduction\"}],staticClass:\"d-block introduction\",attrs:{\"type\":\"text\",\"id\":\"introduction\",\"name\":\"introduction\",\"placeholder\":_vm.user.introduction ? _vm.user.introduction : '請輸入自我介紹'},domProps:{\"value\":(_vm.user.introduction)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"introduction\", $event.target.value)}}}),_c('div',{staticClass:\"compute\"},[_c('div',{staticClass:\"words__compute--warn\"},[_vm._v(\" \"+_vm._s(_vm.introductionThreshold > 160 ? \"字數超出上限!\" : \"\")+\" \")]),_c('div',{staticClass:\"words__compute\"},[_vm._v(_vm._s(_vm.introductionThreshold)+\"/160\")])])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Spinner v-if=\"isLoading\" />\r\n  <div v-else class=\"user__edit__modal\">\r\n    <div class=\"modal-card\">\r\n      <form @submit.stop.prevent=\"handleSubmit\">\r\n        <div class=\"edit__header\">\r\n          <button>\r\n            <img\r\n              @click.stop.prevent=\"closeUserEditModal()\"\r\n              src=\"@/assets/image/orange-cross.png\"\r\n              alt=\"cancel\"\r\n            />\r\n          </button>\r\n          <h5>編輯個人資料</h5>\r\n          <button type=\"submit\" class=\"save\">儲存</button>\r\n        </div>\r\n\r\n        <div class=\"user__edit__image\">\r\n          <div class=\"user__cover\">\r\n            <img class=\"user__cover__img\" :src=\"user.backgroundImage\" alt=\"\" />\r\n            <div class=\"user__cover__mask\"></div>\r\n            <div class=\"user__cover__icons\">\r\n              <input\r\n                id=\"backgroundImage\"\r\n                type=\"file\"\r\n                name=\"backgroundImage\"\r\n                accept=\"image/*\"\r\n                class=\"upload__coverImage__file d-none\"\r\n                ref=\"coverInput\"\r\n                @change=\"handleCoverFileChange\"\r\n              />\r\n              <button @click.stop.prevent=\"onPickFile('cover')\">\r\n                <img\r\n                  class=\"upload\"\r\n                  src=\"@/assets/image/upload.png\"\r\n                  alt=\"upload\"\r\n                />\r\n              </button>\r\n\r\n              <button @click.stop.prevent=\"deleteCover()\">\r\n                <img\r\n                  class=\"cancel\"\r\n                  src=\"@/assets/image/white-cross.png\"\r\n                  alt=\"cancel\"\r\n                />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"user__avatar\">\r\n            <img\r\n              class=\"user__avatar__img\"\r\n              :src=\"user.avatar | emptyAvatar\"\r\n              alt=\"user-avatar\"\r\n            />\r\n            <div class=\"user__avatar__mask\"></div>\r\n\r\n            <input\r\n              id=\"avatar\"\r\n              type=\"file\"\r\n              name=\"avatar\"\r\n              accept=\"image/*\"\r\n              class=\"upload__avatarImage__file d-none\"\r\n              ref=\"avatarInput\"\r\n              @change=\"handleFileChange\"\r\n            />\r\n            <button @click.stop.prevent=\"onPickFile('avatar')\">\r\n              <img\r\n                class=\"upload\"\r\n                src=\"@/assets/image/upload.png\"\r\n                alt=\"upload\"\r\n              />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"user__edit__content\">\r\n          <div class=\"form__wrapper\">\r\n            <label for=\"name\" class=\"d-block\">名稱</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              :placeholder=\"user.name ? user.name : '請輸入名稱'\"\r\n              required\r\n              autofocus\r\n              class=\"d-block\"\r\n              v-model=\"user.name\"\r\n            />\r\n            <div class=\"compute\">\r\n              <div class=\"words__compute--warn\">\r\n                {{ nameThreshold > 50 ? \"字數超出上限!\" : \"\" }}\r\n              </div>\r\n              <div class=\"words__compute\">{{ nameThreshold }}/50</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form__wrapper\">\r\n            <label for=\"introduction\" class=\"d-block\">自我介紹</label>\r\n            <textarea\r\n              type=\"text\"\r\n              id=\"introduction\"\r\n              name=\"introduction\"\r\n              :placeholder=\"\r\n                user.introduction ? user.introduction : '請輸入自我介紹'\r\n              \"\r\n              class=\"d-block introduction\"\r\n              v-model=\"user.introduction\"\r\n            ></textarea>\r\n            <div class=\"compute\">\r\n              <div class=\"words__compute--warn\">\r\n                {{ introductionThreshold > 160 ? \"字數超出上限!\" : \"\" }}\r\n              </div>\r\n              <div class=\"words__compute\">{{ introductionThreshold }}/160</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport userAPI from \"@/apis/user\";\r\nimport { Toast, ToastError, ToastWarning } from '../utils/helpers'\r\nimport Spinner from \"./../components/Spinner\";\r\nimport { emptyAvatarFilter } from '../utils/mixins'\r\n\r\nexport default {\r\n  mixins: [emptyAvatarFilter],\r\n  components: {\r\n    Spinner,\r\n  },\r\n  data() {\r\n    return {\r\n      user: {\r\n        id: -1,\r\n        backgroundImage: \"\",\r\n        avatar: \"\",\r\n        name: \"\",\r\n        introduction: \"\",\r\n      },\r\n      isLoading: true,\r\n      backgroundImageIsDefault: false,\r\n    };\r\n  },\r\n  created() {\r\n    const { id: userId } = this.$route.params;\r\n    this.fetchUser(userId);\r\n  },\r\n  computed: {\r\n    nameThreshold() {\r\n      const nameLength = this.user.name.length;\r\n      return nameLength;\r\n    },\r\n    introductionThreshold() {\r\n      if(this.user.introduction) {\r\n        const introductionLength = this.user.introduction.length;\r\n        return introductionLength;\r\n      } else {\r\n        return 0\r\n      }\r\n      \r\n    },\r\n  },\r\n  updated() {\r\n    if (this.nameThreshold > 50) {\r\n      document.getElementById(\"name\").style.borderBottomColor = \"#FC5A5A\";\r\n    } else {\r\n      document.getElementById(\"name\").style.borderBottomColor = null;\r\n    }\r\n    if (this.introductionThreshold > 160) {\r\n      document.getElementById(\"introduction\").style.borderBottomColor =\r\n        \"#FC5A5A\";\r\n    } else {\r\n      document.getElementById(\"introduction\").style.borderBottomColor = null;\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async fetchUser(userId) {\r\n      try {\r\n        const { data } = await userAPI.getUser({ userId });\r\n\r\n        if (data.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        this.user = {\r\n          ...this.user,\r\n          ...data,\r\n        };\r\n        this.isLoading = false;\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        console.log(\"error\", error);\r\n        ToastError.fire({\r\n          title: \"無法取得使用者資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    closeUserEditModal() {\r\n      this.$emit(\"after-click-button\");\r\n    },\r\n    handleFileChange(e) {\r\n      const { files } = e.target;\r\n      if (files.length === 0) {\r\n        this.user.avatar = \"\";\r\n      } else {\r\n        const imageURL = window.URL.createObjectURL(files[0]);\r\n        this.user.avatar = imageURL;\r\n      }\r\n    },\r\n    handleCoverFileChange(e) {\r\n      const { files } = e.target;\r\n      if (files.length === 0) {\r\n        this.user.backgroundImage = \"\";\r\n      } else {\r\n        const imageURL = window.URL.createObjectURL(files[0]);\r\n        this.user.backgroundImage = imageURL;\r\n        this.backgroundImageIsDefault = false;\r\n      }\r\n    },\r\n    onPickFile(imageFile) {\r\n      if (imageFile === \"avatar\") {\r\n        this.$refs.avatarInput.click();\r\n      } else {\r\n        this.$refs.coverInput.click();\r\n      }\r\n    },\r\n    deleteCover() {\r\n      this.user.backgroundImage = require(\"./../assets/image/user-cover.png\");\r\n      this.backgroundImageIsDefault = true;\r\n    },\r\n    async handleSubmit(e) {\r\n      const form = e.target;\r\n      const formData = new FormData(form);\r\n\r\n      if (this.backgroundImageIsDefault) {\r\n        const response = await fetch(\"https://i.imgur.com/4kLBkAL.jpeg\");\r\n        const blob = await response.blob();\r\n        const file = new File([blob], \"default.jpeg\", { type: \"image/jpeg\" });\r\n        formData.set(\"backgroundImage\", file);\r\n      }\r\n\r\n      try {\r\n        if (!this.user.name) {\r\n          ToastWarning.fire({\r\n            title: \"名稱不可空白\",\r\n          });\r\n          return;\r\n        } else if (this.user.name.length > 50) {\r\n          ToastWarning.fire({\r\n            title: \"名稱不可超過50字\",                \r\n          });    \r\n          return;\r\n        }\r\n\r\n        if (!this.user.introduction) {\r\n          this.user.introduction = ''\r\n        } else if (this.user.introduction.length > 160) {\r\n          ToastWarning.fire({\r\n            title: \"自我介紹不可超過160字\",\r\n          });\r\n          return;\r\n        }\r\n\r\n        const { data } = await userAPI.update({\r\n          userId: this.user.id,\r\n          formData,\r\n        });\r\n\r\n        if (data.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        Toast.fire({\r\n          title: \"成功儲存\",          \r\n        });\r\n\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n        ToastError.fire({\r\n          title: \"無法更新使用者資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.user__edit__modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(23, 23, 37, 0.4);\r\n  z-index: 999;\r\n  .modal-card {\r\n    position: absolute;\r\n    top: 56px;\r\n    left: 50vw;\r\n    transform: translate(-50%, 0);\r\n    border-radius: 14px;\r\n    background: $scale-gray1;\r\n    width: 50vw;\r\n    height: 60vh;\r\n    max-width: 634px;\r\n    min-height: 640px;\r\n    .edit__header {\r\n      display: flex;\r\n      align-items: center;\r\n      height: 57px;\r\n      img {\r\n        width: 15px;\r\n        height: 15px;\r\n        margin: 20px;\r\n      }\r\n      h5 {\r\n        font-size: 18px;\r\n        font-weight: 700;\r\n      }\r\n      .save {\r\n        position: absolute;\r\n        top: 8px;\r\n        right: 16px;\r\n        width: 64px;\r\n        height: 40px;\r\n        padding: 8px 16px;\r\n        background-color: $brand-orange;\r\n        border-radius: 50px;\r\n        font-size: 16px;\r\n        font-weight: 400;\r\n        color: $scale-gray1;\r\n      }\r\n    }\r\n    .user__edit__image {\r\n      position: relative;\r\n      .user__cover {\r\n        .user__cover__img {\r\n          height: 200px;\r\n          object-fit: cover;\r\n          object-position: center;\r\n          opacity: 70%;\r\n        }\r\n        .user__cover__mask {\r\n          background: rgba(23, 23, 37, 0.5);\r\n          position: absolute;\r\n          top: 0;\r\n          height: 200px;\r\n          width: 100%;\r\n        }\r\n        .user__cover__icons {\r\n          position: absolute;\r\n          top: 50%;\r\n          left: 50%;\r\n          transform: translate(-50%, -50%);\r\n          z-index: 999;\r\n          display: flex;\r\n          width: 75px;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n        }\r\n        .upload {\r\n          width: 20px;\r\n          height: 20px;\r\n        }\r\n        .cancel {\r\n          width: 15px;\r\n          height: 15px;\r\n        }\r\n      }\r\n      .user__avatar {\r\n        .user__avatar__img {\r\n          position: absolute;\r\n          top: 124px;\r\n          left: 16px;\r\n          height: 140px;\r\n          width: 140px;\r\n          border: 4px solid $scale-gray1;\r\n          border-radius: 50%;\r\n        }\r\n        .user__avatar__mask {\r\n          background: rgba(23, 23, 37, 0.5);\r\n          position: absolute;\r\n          top: 124px;\r\n          left: 16px;\r\n          height: 140px;\r\n          width: 140px;\r\n          border: 4px solid $scale-gray1;\r\n          border-radius: 50%;\r\n        }\r\n        .upload {\r\n          position: absolute;\r\n          top: 200px;\r\n          left: 86px;\r\n          transform: translate(-50%, -50%);\r\n          height: 20px;\r\n          width: 20px;\r\n        }\r\n      }\r\n    }\r\n    .user__edit__content {\r\n      padding: 60px 16px 40px 16px;\r\n      label {\r\n        padding: 2px 18px;\r\n        color: $scale-gray8;\r\n        font-size: 14px;\r\n        font-weight: 400;\r\n        line-height: 22px;\r\n        background-color: $form-bg;\r\n        margin: 0;\r\n        border-radius: 2px 0;\r\n      }\r\n      input,\r\n      textarea {\r\n        padding: 0 18px 2px 18px;\r\n        width: 100%;\r\n        border: 0px;\r\n        background-color: $form-bg;\r\n        font-size: 16px;\r\n        line-height: 26px;\r\n        color: $scale-gray10;\r\n        border-bottom: 2px solid $form-border;\r\n        text-align: start;\r\n        &.introduction {\r\n          height: 147px;\r\n          resize: none;\r\n        }\r\n        &:hover,\r\n        :focus {\r\n          border-bottom: 2px solid $sider-blue;\r\n        }\r\n        &:-webkit-autofill {\r\n          -webkit-box-shadow: 0 0 0px 100px $form-bg inset;\r\n        }\r\n      }\r\n      .compute {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        font-size: 12px;\r\n        font-weight: 500;\r\n        margin: 4px 0 8px 0;\r\n        .words__compute--warn {\r\n          color: $error-red;\r\n        }\r\n        .words__compute {\r\n          color: $scale-gray8;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserEdit.vue?vue&type=template&id=6fa3d9e3&scoped=true&\"\nimport script from \"./UserEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./UserEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserEdit.vue?vue&type=style&index=0&id=6fa3d9e3&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fa3d9e3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isLoading)?_c('Spinner'):_c('div',{staticClass:\"user__profile\"},[_c('div',{staticClass:\"user__profile__header\"},[_c('router-link',{attrs:{\"to\":{ name: 'main' }}},[_c('img',{attrs:{\"src\":require(\"@/assets/image/arrow.png\"),\"alt\":\"arrow\"}})]),_c('div',[_c('h4',{staticClass:\"header__name\"},[_vm._v(_vm._s(_vm.user.name))]),_c('p',{staticClass:\"header__tweet__count\"},[_vm._v(_vm._s(_vm.user.tweetCount)+\"推文\")])])],1),_c('div',{staticClass:\"user__profile__content\"},[_c('img',{staticClass:\"user__cover\",attrs:{\"src\":_vm.user.backgroundImage,\"alt\":\"user-cover-img\"}}),_c('img',{staticClass:\"user__avatar\",attrs:{\"src\":_vm._f(\"emptyAvatar\")(_vm.user.avatar),\"alt\":\"user-avatar\"}}),(_vm.user.id === _vm.currentUser.id)?[_c('button',{staticClass:\"modify__profile__btn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showUserEditModal()}}},[_vm._v(\" 編輯個人資料 \")])]:_c('div',{staticClass:\"profile__btn\"},[_c('button',{staticClass:\"message__btn\"},[_c('img',{attrs:{\"src\":require(\"@/assets/image/btn_msg.png\"),\"alt\":\"message\"}})]),_c('button',{staticClass:\"notfi__btn\"},[_c('img',{attrs:{\"src\":require(\"@/assets/image/btn_notfi.png\"),\"alt\":\"notfi\"}})]),(_vm.user.isFollowed)?_c('button',{staticClass:\"following__btn\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollow(_vm.user.id)}}},[_vm._v(\" 正在跟隨 \")]):_c('button',{staticClass:\"unfollowing__btn\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollow(_vm.user.id)}}},[_vm._v(\" 跟隨 \")])]),_c('div',{staticClass:\"user__info\"},[_c('div',{staticClass:\"user__name\"},[_vm._v(_vm._s(_vm.user.name))]),_c('div',{staticClass:\"user__account\"},[_vm._v(\"@\"+_vm._s(_vm.user.account))]),_c('div',{staticClass:\"user__introduction\"},[_vm._v(\" \"+_vm._s(_vm.user.introduction)+\" \")]),_c('div',{staticClass:\"user__follow\"},[_c('router-link',{staticClass:\"user__follow__num\",attrs:{\"to\":{ name: 'user-followings', params: { id: _vm.user.id } }}},[_vm._v(_vm._s(_vm.user.followingCount)+\"個\")]),_c('p',{staticClass:\"following\"},[_vm._v(\"跟隨中\")]),_c('router-link',{staticClass:\"user__follow__num\",attrs:{\"to\":{ name: 'user-followers', params: { id: _vm.user.id } }}},[_vm._v(_vm._s(_vm.user.followerCount)+\"位\")]),_c('p',{staticClass:\"follower\"},[_vm._v(\"跟隨者\")])],1)])],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Spinner v-if=\"isLoading\" />\r\n  <div v-else class=\"user__profile\">\r\n    <div class=\"user__profile__header\">\r\n      <router-link :to=\"{ name: 'main' }\">\r\n        <img src=\"@/assets/image/arrow.png\" alt=\"arrow\" />\r\n      </router-link>\r\n      <div>\r\n        <h4 class=\"header__name\">{{ user.name }}</h4>\r\n        <p class=\"header__tweet__count\">{{ user.tweetCount }}推文</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"user__profile__content\">\r\n      <img\r\n        class=\"user__cover\"\r\n        :src=\"user.backgroundImage\"\r\n        alt=\"user-cover-img\"\r\n      />\r\n      <img class=\"user__avatar\" :src=\"user.avatar | emptyAvatar\" alt=\"user-avatar\" />\r\n      <template v-if=\"user.id === currentUser.id\">\r\n        <button\r\n          @click.stop.prevent=\"showUserEditModal()\"\r\n          class=\"modify__profile__btn\"\r\n        >\r\n          編輯個人資料\r\n        </button>\r\n      </template>\r\n      <div v-else class=\"profile__btn\">\r\n        <button class=\"message__btn\">\r\n          <img src=\"@/assets/image/btn_msg.png\" alt=\"message\" />\r\n        </button>\r\n        <button class=\"notfi__btn\">\r\n          <img src=\"@/assets/image/btn_notfi.png\" alt=\"notfi\" />\r\n        </button>\r\n        <button\r\n          v-if=\"user.isFollowed\"\r\n          class=\"following__btn\"\r\n          @click.stop.prevent=\"deleteFollow(user.id)\"\r\n          :disabled=\"isProcessing\"\r\n        >\r\n          正在跟隨\r\n        </button>\r\n        <button\r\n          v-else\r\n          class=\"unfollowing__btn\"\r\n          @click.stop.prevent=\"addFollow(user.id)\"\r\n          :disabled=\"isProcessing\"\r\n        >\r\n          跟隨\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"user__info\">\r\n        <div class=\"user__name\">{{ user.name }}</div>\r\n        <div class=\"user__account\">@{{ user.account }}</div>\r\n        <div class=\"user__introduction\">\r\n          {{ user.introduction }}\r\n        </div>\r\n        <div class=\"user__follow\">\r\n          <router-link\r\n            :to=\"{ name: 'user-followings', params: { id: user.id } }\"\r\n            class=\"user__follow__num\"\r\n            >{{ user.followingCount }}個</router-link\r\n          >\r\n          <p class=\"following\">跟隨中</p>\r\n          <router-link\r\n            :to=\"{ name: 'user-followers', params: { id: user.id } }\"\r\n            class=\"user__follow__num\"\r\n            >{{ user.followerCount }}位</router-link\r\n          >\r\n          <p class=\"follower\">跟隨者</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport userAPI from \"./../apis/user\";\r\nimport followshipAPI from \"./../apis/followship\";\r\nimport { Toast, ToastError, ToastWarning } from '../utils/helpers'\r\nimport Spinner from \"./../components/Spinner\";\r\nimport { emptyAvatarFilter } from '../utils/mixins'\r\n\r\nexport default {\r\n  mixins: [emptyAvatarFilter],\r\n  components: {\r\n    Spinner,\r\n  },\r\n  props: {\r\n    isUpdated: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      user: {\r\n        id: -1,\r\n        account: \"\",\r\n        name: \"\",\r\n        avatar: \"\",\r\n        introduction: \"\",\r\n        backgroundImage: \"\",\r\n        tweetCount: \"\",\r\n        followerCount: \"\",\r\n        followingCount: \"\",\r\n        isFollowed: false,\r\n      },\r\n      isLoading: true,\r\n      isProcessing: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\"]),\r\n  },\r\n  created() {\r\n    const { id: userId } = this.$route.params;\r\n    this.fetchUser(userId);\r\n  },\r\n  watch: {\r\n    isUpdated(newValue, oldValue) {\r\n      if (this.user.id === this.currentUser.id) {\r\n        this.fetchUser(this.user.id);\r\n      } else {\r\n        return;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    async fetchUser(userId) {\r\n      try {\r\n        const { data } = await userAPI.getUser({ userId });\r\n        const {\r\n          id,\r\n          account,\r\n          name,\r\n          avatar,\r\n          introduction,\r\n          backgroundImage,\r\n          tweetCount,\r\n          followerCount,\r\n          followingCount,\r\n          isFollowed,\r\n        } = data;\r\n\r\n        if (data.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n        this.user = {\r\n          ...this.user,\r\n          id,\r\n          account,\r\n          name,\r\n          avatar,\r\n          introduction,\r\n          backgroundImage,\r\n          tweetCount,\r\n          followerCount,\r\n          followingCount,\r\n          isFollowed,\r\n        };\r\n        this.isLoading = false;\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        console.log(\"error\", error);\r\n        ToastError.fire({\r\n          title: \"無法取得使用者資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n\r\n    showUserEditModal() {\r\n      this.$emit(\"after-click-button\");\r\n    },\r\n    async addFollow(userId) {\r\n      try {\r\n        this.isProcessing = true\r\n        const { data } = await followshipAPI.addFollow({ id: userId });\r\n\r\n        if (data.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        if (userId === this.user.id) {\r\n          this.user = {\r\n            ...this.user,\r\n            isFollowed: true,\r\n            followerCount: this.user.followerCount + 1,\r\n          };\r\n        } else {\r\n          return user;\r\n        }\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        console.error(\"error\", error);\r\n        ToastError.fire({\r\n          title: \"無法追蹤使用者，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    async deleteFollow(userId) {\r\n      try {\r\n        this.isProcessing = true\r\n        const { data } = await followshipAPI.deleteFollow({ followingId: userId });\r\n\r\n        if (data.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        if (userId === this.user.id) {\r\n          this.user = {\r\n            ...this.user,\r\n            isFollowed: false,\r\n            followerCount: this.user.followerCount - 1,\r\n          };\r\n        } else {\r\n          return user;\r\n        }\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        console.error(\"error\", error);\r\n        ToastError.fire({\r\n          title: \"無法取消追蹤使用者，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.user__profile__header {\r\n  display: flex;\r\n  padding: 16px 0;\r\n  img {\r\n    width: 17px;\r\n    height: 14px;\r\n    margin: 14px 20px 14px 28px;\r\n  }\r\n  .header__name {\r\n    color: $scale-gray10;\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n  }\r\n  .header__tweet__count {\r\n    color: $secondary-gray;\r\n    font-size: 13px;\r\n    font-weight: 500;\r\n  }\r\n}\r\n.user__profile__content {\r\n  position: relative;\r\n  .user__cover {\r\n    height: 200px;\r\n    object-fit: cover;\r\n    object-position: center;\r\n  }\r\n  .user__avatar {\r\n    position: absolute;\r\n    top: 124px;\r\n    left: 16px;\r\n    width: 140px;\r\n    height: 140px;\r\n    border: 4px solid $scale-gray1;\r\n    border-radius: 50%;\r\n  }\r\n  .profile__btn {\r\n    position: absolute;\r\n    top: 216px;\r\n    right: 16px;\r\n    display: flex;\r\n    .message__btn,\r\n    .notfi__btn {\r\n      width: 50px;\r\n      height: 40px;\r\n    }\r\n    .following__btn {\r\n      width: 96px;\r\n      height: 40px;\r\n      margin-left: 5px;\r\n      border-radius: 50px;\r\n      background: $brand-orange;\r\n      font-weight: 400;\r\n      font-size: 16px;\r\n      color: $scale-gray1;\r\n    }\r\n    .unfollowing__btn {\r\n      width: 64px;\r\n      height: 40px;\r\n      margin-left: 5px;\r\n      border-radius: 50px;\r\n      border: 1px solid $brand-orange;\r\n      background: $scale-gray1;\r\n      font-weight: 400;\r\n      font-size: 16px;\r\n      color: $brand-orange;\r\n    }\r\n  }\r\n\r\n  .modify__profile__btn {\r\n    position: absolute;\r\n    top: 216px;\r\n    right: 16px;\r\n    color: $brand-orange;\r\n    border: 1px solid $brand-orange;\r\n    border-radius: 50px;\r\n    width: 128px;\r\n    height: 40px;\r\n    font-size: 16px;\r\n    font-weight: 400;\r\n  }\r\n  .user__info {\r\n    padding: 72px 16px 16px 16px;\r\n    .user__name {\r\n      color: $scale-gray10;\r\n      font-size: 18px;\r\n      font-weight: 700;\r\n    }\r\n    .user__account {\r\n      color: $secondary-gray;\r\n      font-size: 14px;\r\n      font-weight: 400;\r\n    }\r\n    .user__introduction {\r\n      color: $scale-gray10;\r\n      font-size: 14px;\r\n      font-weight: 400;\r\n      margin: 8px 0;\r\n    }\r\n    .user__follow {\r\n      display: flex;\r\n      font-size: 14px;\r\n      font-weight: 400;\r\n      color: $secondary-gray;\r\n      .user__follow__num {\r\n        color: $scale-gray10;\r\n      }\r\n      .following {\r\n        margin-right: 20px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfile.vue?vue&type=template&id=b170cb94&scoped=true&\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserProfile.vue?vue&type=style&index=0&id=b170cb94&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b170cb94\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","class","active","$route","name","attrs","_v","staticRenderFns","component","isLoading","on","$event","stopPropagation","preventDefault","handleSubmit","apply","arguments","require","closeUserEditModal","user","backgroundImage","ref","handleCoverFileChange","onPickFile","deleteCover","_f","avatar","handleFileChange","directives","rawName","value","expression","domProps","target","composing","$set","_s","nameThreshold","introduction","introductionThreshold","mixins","components","Spinner","data","id","backgroundImageIsDefault","created","computed","updated","document","methods","userId","console","ToastError","title","files","type","formData","ToastWarning","Toast","tweetCount","currentUser","showUserEditModal","isFollowed","isProcessing","deleteFollow","addFollow","account","params","followingCount","followerCount","props","isUpdated","default","watch","followingId"],"sourceRoot":""}